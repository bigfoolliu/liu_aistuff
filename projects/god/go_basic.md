# go语言基础知识

<!-- TOC -->

- [go语言基础知识](#go语言基础知识)
    - [1.学习资源](#1学习资源)
    - [2.基础概念](#2基础概念)
        - [2.1 GOPATH规则](#21-gopath规则)
        - [2.2基本命令](#22基本命令)
        - [2.3基础语法](#23基础语法)
        - [2.3.1命名](#231命名)
        - [2.3.2其他](#232其他)
        - [2.3.4符号](#234符号)
    - [3.数据类型](#3数据类型)
        - [3.1布尔型 bool](#31布尔型-bool)
        - [3.2数字型 float32, float64](#32数字型-float32-float64)
        - [3.3字符串类型](#33字符串类型)
        - [3.4派生类型](#34派生类型)
        - [3.5接口](#35接口)
    - [4.函数](#4函数)
        - [4.1声明一个函数](#41声明一个函数)
        - [4.2函数作为一个实参](#42函数作为一个实参)
        - [4.3数据结构创建函数](#43数据结构创建函数)

<!-- /TOC -->

## 1.学习资源

[go语言入门教程](http://c.biancheng.net/golang/)
[go语言中文网](https://studygolang.com/)

## 2.基础概念

1. 可以直接编译为机器码
2. 静态数据类型和编译语言
3. 内置支持并发
4. 内置垃圾回收
5. 部署简单
6. 强大的标准库

### 2.1 GOPATH规则

api：每个版本的 api 变更差异
bin：go 源码包编译出的编译器（go）、文档工具（godoc）、格式化工具（gofmt）
blog：Go 博客的模板，使用 Go 的网页模板，有一定的学习意义
doc：英文版的 Go 文档
lib：引用的一些库文件
misc：杂项用途的文件，例如 Android 平台的编译、git 的提交钩子等
pkg：Windows 平台编译好的中间文件
src：标准库的源码
test：测试用例

### 2.2基本命令

```shell
# 将文件直接编译为机器码
go build hello.go
# 执行命令
go run hello.go
# 查看版本
go version
# 查看环境
go env
# 查看当前目录中所有可用包
go list
# 清空生成的可执行文件
go clean
# 从远程下载第三方的库至GOPATH
go get
# 查看包或者函数的源码的api
go doc [package] [function]
# 对文件进行格式化
gofmt hello.py
```

### 2.3基础语法

### 2.3.1命名

`某个名称在包外是否可见，就取决于其首个字符是否为大写字母.`

1. 包名：`包应当以小写的单个单词来命名，且不应使用下划线或驼峰记法`;`包名应为其源码目录的基本名称`;
2. 获取器名：当一个包被导入后，包名就会成了内容的访问器。
3. Go中约定使用驼峰记法 MixedCaps 或 mixedCaps。

### 2.3.2其他

1. Go的正式语法使用分号来结束语句，词法分析器会使用一条简单的规则来自动插入分号，因此因此源码中基本就不用分号
2. `不再使用 do 或 while 循环，只有一个更通用的 for`
3. `if 和 switch 像 for一样可接受可选的初始化语句`

### 2.3.4符号

1. `:=`：短声明
2. 遍历数组、切片、字符串或者映射，或从信道中读取消息,用range

```go
for i := 0; i < 10; i++ {
    sum += i
}
```

```go
for key, value := range oldMap {
    newMap[key] = value
}
```

## 3.数据类型

变量的声明我们可以通过var关键字，然后就可以在程序中使用。当我们不指定变量的默认值时，这些`变量的默认值是他们的零值`。

### 3.1布尔型 bool

### 3.2数字型 float32, float64

### 3.3字符串类型

### 3.4派生类型

1. 指针类型(Pointer)
2. 数组类型
3. 结构化类型(struct)
4. Channel类型
5. 函数类型
6. 切片类型(动态数组)
7. 接口类型(interface)
8. Map类型(集合,无序键值对)

### 3.5接口

所有的具有共性的方法定义在一起，任何其他类型只要实现了这些方法就是实现了这个接口。

`注意`：

1. 接口内只实现了函数的声明,没有实现
2. 接口中只能有方法的声明, 不能有变量的声明
3. 只要某种数据类型实现了接口, 那么就可以使用接口变量保存这种数据类型
4. 只要某种数据类型实现了接口, 那么就可以使用接口变量调用接口中声明的方法
5. 实现一个接口, 不需要做额外的声明, 只要某种数据类型绑定了所有接口中的方法就是实现了这个接口
6. 只有实现了接口中声明的所有方法, 才算实现了接口, 才能使用接口变量保存
7. 在实现接口的时候, 方法名称,形参列表,返回值列表必须一模一样

## 4.函数

`注意`：

1. Go语言中的函数可以和任何类型绑定, 但是一般用于和结构体绑定.
2. 定义一个结构体,将函数和结构体绑定在一起的东西就是方法
3. 方法和函数的区别在于, 函数可以直接调用(通过包名.函数名称), 而方法只能通过绑定的数据类型对应的变量来调用(变量.函数名称)
4. 函数名称和方法名称可以重名

### 4.1声明一个函数

```go
// 后一个int表明返回值得类型
func max(num1, num2 int) int {
    if num1 > num2 {
        return num1
    } else {
        return num2
    }
}
```

### 4.2函数作为一个实参

函数作为实参，可以实现回调。

### 4.3数据结构创建函数

`make`:


`new`:

动态分配一个空间，只需要使用，不必考虑内存释放其生命周期。
