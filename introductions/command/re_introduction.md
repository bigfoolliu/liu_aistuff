# 正则表达式

<!-- vim-markdown-toc Marked -->

* [1.介绍](#1.介绍)
* [2.规则](#2.规则)
        - [2.1基础规则](#2.1基础规则)
        - [2.2常用修饰符](#2.2常用修饰符)
        - [2.3贪婪和非贪婪](#2.3贪婪和非贪婪)
* [x.常用正则匹配示例](#x.常用正则匹配示例)

<!-- vim-markdown-toc -->

## 1.介绍

- 本质为`记录文本规则的代码`
- 可以用来匹配处理字符串，通常用来检索，替换那些符合某个模式(规则)的文本
- 正则表达式测试工具：[正则表达式测试工具](http://tool.oschina.net/regex)

## 2.规则

### 2.1基础规则

|模式   |描述   |
|:---:|:---|
|.   |表示匹配`除了换行符之外的任意字符`   |
|^   |（脱字符）匹配输入字符串的起始位置   |
|`$`   |（美元符号）匹配输入字符串的结束位置   |
|`|`  |a`|`b，表示匹配a或b   |
|\   |将普通字符转为特殊字符，如\d表示任意十进制数字，`\.`表示匹配点号本身  |
|*   |匹配前面的子表达式`零次或多次，等价于{0,}`   |
|+   |匹配前面的子表达式`一次或多次，等价于{1,}`   |
|?   |匹配前面的子表达式`零次或一次，等价于{0,1}`   |
|{m,n}   |`m<=n`且均为非负整数，表示前面的RE表达式匹配m~n次，{m}表示匹配m次，{m,}表示至少匹配m次，{,n}表示需要匹配最多匹配n次|
|()   |`匹配括号内的表达式`，也表示一个组   |
|[ ]   |匹配`括号内包含的任意一个字符`，出现连字符-在中间则表示字符范围描述，首位出现^表示不匹配不包含其中的任意字符,eg:`[abc]`,`[a-zA-Z0-9]`   |
|\n   |匹配一个换行符   |
|\b   |匹配单词的开始和结束  |
|\t   |匹配一个制表符   |
|\d   |匹配任意十进制数字，等价于[0-9]   |
|\D   |匹配任意非数字的字符   |
|\w   |匹配`字母，数字，下划线`   |
|\W   |匹配`不是字母，数字，下划线的字符`  |
|\s   |匹配任意空白字符，等价于[\t\n\r\f]   |
|\S   |匹配任意非空字符   |
|\z   |匹配字符串结尾，如果存在换行，同时还会匹配换行符   |
|\Z   |匹配字符串结尾，如果存在换行，只匹配换行符前的结束字符串   |
|\A   |匹配字符串开头   |

### 2.2常用修饰符

|修饰符   |描述   |
|:---:|:---|
|re.S（常用）   |使.匹配包括换行在内的所有字符   |
|re.X（常用）   |该标志通过给予你更灵活的格式以便你将正则表达式写得更易于理解   |
|re.I   |使匹配对大小写不敏感   |
|re.L   |做本地化识别（locale-aware）匹配   |
|re.M   |多行匹配，影响^和`$`   |
|re.U   |根据Unicode字符集解析字符。这个标志影响\w、\W、 \b和\B   |

### 2.3贪婪和非贪婪

- 当正则表达式包含能接受重复的限定符时候，通常是满足规则情况下尽可能多匹配字符，即`贪婪模式`

|语法  |说明  |
|:--:|:---|
|*?  |重复任意次数，但是尽可能少, `abcbc, a.*?c取到abc而不是abcbc`  |
|+？ |重复一次或任意次，但是尽可能小  |
|??  |重复零次或任意次，但是尽可能小  |
|{m, n}?  |重复m到n次，但是尽可能小  |
|{n, }  |重复n次以上，但是尽可能小  |

## x.常用正则匹配示例

```sh
# 010-123456
\d{3}-\d(6)
```
